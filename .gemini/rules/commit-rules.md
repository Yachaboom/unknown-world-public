# Git/커밋 메시지 세부 지침

> **[적용 컨텍스트]**: git, commit, branching, pr, changelog
> 
> **[설명]**: 커밋 메시지를 일관된 포맷으로 작성해 변경 의도/범위를 추적 가능하게 한다.
>
> **[참조]**: `.gemini/GEMINI.md`의 “Git/커밋” 키워드 블록에 의해 임포트됨.

---

## 1. 핵심 규칙

<rules>

### 규칙 1: 커밋 메시지는 한국어로, 변경 의도 + 범위 + 근거를 남긴다

**올바른 예시 (Do ✅)**:
```
feat: TurnOutput 스키마 검증/복구 루프 추가

- Pydantic 검증 실패 시 Auto-repair #1~#3 재시도
- 실패 시 안전 폴백(TurnOutput 스키마 준수) 반환

Progress:
- (roadmap 연동 항목이 없으면 수치 임의 작성 금지 — 필요 시 보류/질문)
```

**잘못된 예시 (Don't ❌)**:
```
update
fix stuff
```

### 규칙 2: PRD 하드 게이트에 영향을 주는 변경은 메시지에 명시한다

**올바른 예시 (Do ✅)**:
```
- Schema OK / Economy OK / Safety OK / Consistency OK 영향 여부를 설명
```

**잘못된 예시 (Don't ❌)**:
```
- UI를 채팅처럼 바꿔놓고도 메시지에 숨김
```

</rules>

## 2. 예외 처리

<exceptions>
- **예외: WIP 커밋**: 로컬 작업 중 WIP는 가능하나, PR 병합 전에는 의미 있는 메시지로 정리한다.
</exceptions>

## 3. 체크리스트

- [ ] 커밋 메시지가 한국어이며 변경 의도/범위를 설명한다
- [ ] 하드 게이트 영향이 있으면 명시했다
- [ ] Progress 블록 수치를 임의로 만들지 않았다(필요 시 보류/질문)

# Commit Log Generation Rules

`vibe/roadmap.md`에 정의된 유닛(Unit) 작업을 완료했을 경우, 다음 형식을 따라 커밋 메시지 본문에 진행률과 유닛 정보를 포함해야 합니다.

이는 로드맵 진행 상황을 자동으로 추적하고, 각 커밋이 어떤 작업 단위에 해당하는지 명확히 하기 위함입니다.
** 커밋 메시지는 반드시 한글로 작성하세요 **

## 1. 커밋 메시지 구조

모든 커밋 메시지는 다음 구조를 따릅니다.

```
<타입>(<스코프>): <유닛 ID> <유닛 설명>

<본문 (선택 사항)>

**Progress:**
- 전체: <완료된 총 유닛 수>/<전체 유닛 수> (<퍼센트>%)
- <마일스톤>: <완료된 마일스톤 유닛 수>/<전체 마일스톤 유닛 수> (<퍼센트>%)
- 유닛: <완료된 유닛 ID> 완료
```

### 1.1. 타입 (Type)

커밋의 성격을 나타내는 타입은 다음 중 하나여야 합니다.

-   **feat**: 새로운 기능 추가
-   **fix**: 버그 수정
-   **docs**: 문서 수정 (코드 변경 없음)
-   **style**: 코드 스타일 변경 (포맷팅, 세미콜론 등; 기능적 변경 없음)
-   **refactor**: 코드 리팩토링 (기능 변경 없이 내부 구조 개선)
-   **test**: 테스트 코드 추가 또는 수정
-   **chore**: 빌드, 패키지 매니저 설정 등 기타 잡일 (프로덕션 코드 변경 없음)

### 1.2. 스코프 (Scope) - 선택 사항

스코프는 커밋이 영향을 미치는 코드의 범위를 나타냅니다. (예: `api`, `db`, `ui`)

### 1.3. 제목 (Subject)

-   유닛ID 테그를 반드시 추가 합니다.
-   제목은 50자를 넘지 않도록 간결하게 작성합니다.
-   문장의 끝에 마침표(.)를 찍지 않습니다.
-   명령형으로 작성합니다. (예: "추가함" -> "추가", "고침" -> "수정")

### 1.4. 본문 (Body) - 선택 사항

-   제목만으로 설명이 부족할 때 작성합니다.
-   무엇을, 왜 변경했는지 상세히 설명합니다.
-   한 줄의 길이는 72자를 넘지 않도록 합니다.

## 2. 예시

```
feat(setup): U-001[Mvp] uv 프로젝트 초기화 및 의존성 설정

- 'uv init' 및 'uv pip install'을 통해 프로젝트 기본 설정 완료
- 'pyproject.toml' 및 'uv.lock' 파일 생성

**Progress:**
- 전체: 1/30 (3%)
- MVP: 1/23 (4%)
- 유닛: U-001[Mvp] 완료
```