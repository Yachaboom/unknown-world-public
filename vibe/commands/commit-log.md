# 커밋 메시지 작성 지침 프롬프트

당신은 현재 프로젝트의 커밋 메시지를 작성하는 역할을 맡았습니다. 아래 규칙과 지침을 엄격히 준수하여 **현재 구현 Commit(`git show <hash>`) 또는 현재 유닛 작업의 변경점(`git status`/`git diff`)**을 바탕으로 최적의 커밋 메시지를 제안해 주세요.

## 1. 기본 규칙 준수

- `.gemini/rules/commit-rules.md` 파일에 정의된 기본 구조와 타입(feat, fix, docs 등)을 따릅니다.
- 모든 커밋 메시지는 **한국어**로 작성합니다.

## 2. 유닛 작업 여부에 따른 분기 처리 **(중요)**

커밋 메시지를 작성하기 전에, 현재 작업이 `vibe/roadmap.md` 등에 정의된 **특정 '유닛(Unit)'을 완료하는 작업인지** 판단하세요.

### A. 유닛 작업인 경우 (Unit Task)

- `.gemini/rules/commit-rules.md`의 지침을 **완벽히** 따릅니다.
- **제목**: `<타입>(<스코프>): <유닛 ID> <유닛 설명>` 형식을 사용합니다.
- **본문**: `**Progress:**` 섹션을 포함하여 전체 및 마일스톤 진행률, 완료된 유닛 정보를 명시합니다.

### B. 유닛 작업이 아닌 경우 (Non-Unit Task)

- 일반적인 버그 수정, 문서 업데이트, 단순 리팩토링 등이 해당됩니다.
- **제목**: `<유닛 ID>` 태그를 **제외**합니다.
  - 형식: `<타입>(<스코프>): <작업 요약>`
- **본문**: `**Progress:**` 섹션을 **제외**합니다. 단순히 변경 사항에 대한 설명(What, Why)만 작성합니다.

## 3. 실행 지침

1. 사용자가 **현재 구현 Commit(해시)** 를 제공한 경우 `git show <hash>`(필요 시 `git show --name-status --stat`)를 분석하여 변경된 파일과 내용을 파악합니다. 제공되지 않은 경우 `git status`와 `git diff`로 **현재 유닛 작업** 변경점을 파악합니다.
2. 작업의 성격이 특정 유닛을 완료하는 것인지, 아니면 일반적인 유지보수/수정인지 판단합니다. (사용자의 명시적 언급이 없다면 보수적으로 판단하여 일반 작업으로 간주하거나, 확실치 않을 경우 일반 작업 형식을 따르되 유닛 ID를 괄호 안에 넣는 등 유연하게 대처하지 말고 **확실하지 않으면 제외**합니다.)
3. 위 규칙(A 또는 B)에 맞춰 커밋 메시지 초안을 작성하여 제시합니다.
4. **출력 형식**:
   사용자가 복사해서 붙여넣기 편하도록, `git commit` 명령어 없이 **순수 커밋 메시지(제목과 본문)**만 코드 블록에 담아 출력하세요.

   ```text
   <타입>(<스코프>): <제목>

   <본문 내용...>
   ```
