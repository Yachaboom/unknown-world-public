# U-079 ì¬í™” ë¶€ì¡± ì‹œ ì´ë¯¸ì§€ ìƒì„± í—ˆìš© + ì¬í™” íšë“ ê²½ë¡œ ë‹¤ì–‘í™” ì‹¤í–‰ ê°€ì´ë“œ

## 1. ê°œìš”

Signal ì”ì•¡ì´ ë¶€ì¡±í•´ë„ FAST ëª¨ë¸ë¡œ ë¬´ë£Œ ê¸°ë³¸ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ì—¬ ê²Œì„ íë¦„ì„ ìœ ì§€í•˜ê³ , ì•„ì´í…œ íŒë§¤/ì¬í™” íšë“ ì•¡ì…˜ ì¹´ë“œ/í€˜ìŠ¤íŠ¸ ë³´ìƒ ë“± ë‹¤ì–‘í•œ ì¬í™” íšë“ ê²½ë¡œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 5ë¶„

**ì˜ì¡´ì„±**:
- U-014[Mvp]: Economy HUD + Ledger ê¸°ë³¸ êµ¬ì¡°
- U-019[Mvp]: ì´ë¯¸ì§€ ìƒì„± ì„œë¹„ìŠ¤ (ëª¨ë¸ í‹°ì–´ë§)
- U-078[Mvp]: ëª©í‘œ ì‹œìŠ¤í…œ (ë³´ìƒ ì§€ê¸‰ íë¦„)

---

## 2. ë¹ ë¥¸ ì‹œì‘ (Quick Start)

### 2.1 í™˜ê²½ ì¤€ë¹„

```bash
cd frontend && pnpm install
```

### 2.2 ì¦‰ì‹œ ì‹¤í–‰

```bash
# ë£¨íŠ¸ì—ì„œ
pnpm dev:front
pnpm dev:back  # (ë³„ë„ í„°ë¯¸ë„)
```

### 2.3 ì²« í™”ë©´ í™•ì¸

- ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8001 ì ‘ì†
- ì„±ê³µ ì§€í‘œ:
  - í”„ë¡œí•„ ì„ íƒ â†’ ì•„ë¬´ í”„ë¡œí•„ ì„ íƒ í›„ ê²Œì„ í™”ë©´ ì§„ì…
  - í—¤ë”ì— Signal/Shard ì”ì•¡ í‘œì‹œ í™•ì¸
  - ì¸ë²¤í† ë¦¬ì— ì•„ì´í…œ ì¡´ì¬ í™•ì¸

---

## 3. í•µì‹¬ ê¸°ëŠ¥ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì”ì•¡ ë¶€ì¡± ì‹œ FAST í´ë°± ì•ˆë‚´

**ëª©ì **: Signalì´ LOW_BALANCE_THRESHOLD(10) ë¯¸ë§Œì¼ ë•Œ UI ë³€í™” í™•ì¸

**ì ˆì°¨**:
1. ê²Œì„ ì‹œì‘ í›„ ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì”ì•¡ ìˆ˜ë™ ì¡°ì •:
   ```js
   // DEV ëª¨ë“œì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
   __worldStore.getState().setEconomy({ signal: 5, memory_shard: 1 });
   __economyStore.getState().updateBalanceLowStatus({ signal: 5, memory_shard: 1 });
   ```
2. í™•ì¸ í•­ëª©:
   - [x] í—¤ë”: Signal ê°’ì´ ë¹¨ê°„/ë…¸ë€ìƒ‰ ê²½ê³ ë¡œ í‘œì‹œ
   - [x] í—¤ë”: âš  ê²½ê³  ì•„ì´ì½˜ í‘œì‹œ
   - [x] ì¬í™” í˜„í™© íŒ¨ë„: "âš  ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤" ê²½ê³ 
   - [x] ì¬í™” í˜„í™© íŒ¨ë„: "âš¡ SIGNAL ë¶€ì¡± - ëŒ€ì•ˆ ì•ˆë‚´" ì„¹ì…˜
   - [x] **FAST** ë°°ì§€ + "ì´ë¯¸ì§€ëŠ” ê¸°ë³¸ í’ˆì§ˆ(FAST)ë¡œ ë¬´ë£Œ ìƒì„±ë©ë‹ˆë‹¤"
   - [x] ì¬í™” íšë“ íŒíŠ¸ 3ê°€ì§€ (íŒë§¤/ì¹´ë“œ/ëª©í‘œ)

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì•„ì´í…œ íŒë§¤

**ëª©ì **: ì¸ë²¤í† ë¦¬ ì•„ì´í…œ íŒë§¤ë¡œ Signal íšë“ í™•ì¸

**ì ˆì°¨**:
1. ì‹œë‚˜ë¦¬ì˜¤ 1ê³¼ ê°™ì´ ì”ì•¡ì„ ë‚®ì¶¤
2. ì¸ë²¤í† ë¦¬ì— íŒë§¤ ë²„íŠ¼(âš¡ +5)ì´ ê° ì•„ì´í…œì— í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
3. ì•„ë¬´ ì•„ì´í…œì˜ "íŒë§¤" ë²„íŠ¼ í´ë¦­
4. í™•ì¸ í•­ëª©:
   - [x] í´ë¦­í•œ ì•„ì´í…œì´ fade-out ì• ë‹ˆë©”ì´ì…˜ í›„ ì¸ë²¤í† ë¦¬ì—ì„œ ì‚¬ë¼ì§
   - [x] Signal ì”ì•¡ì´ +5 ì¦ê°€
   - [x] ë‚´ëŸ¬í‹°ë¸Œì— "ğŸ’° {ì•„ì´í…œëª…}ì„(ë¥¼) íŒë§¤í•˜ì—¬ 5 Signalì„ íšë“í–ˆìŠµë‹ˆë‹¤." í‘œì‹œ
   - [x] ê±°ë˜ ì¥ë¶€ì— "ì•„ì´í…œ íŒë§¤: {ì•„ì´í…œëª…}" ê¸°ë¡ ì¶”ê°€
   - [x] Signal >= 10ì´ë©´ ì”ì•¡ ë¶€ì¡± ê²½ê³  í•´ì œ ë° íŒë§¤ ë²„íŠ¼ ìˆ¨ê¹€

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì¬í™” íšë“ ì•¡ì…˜ ì¹´ë“œ ë°°ì§€

**ëª©ì **: GMì´ ìƒì„±í•œ `earn_` ì ‘ë‘ì‚¬ ì¹´ë“œì— íŠ¹ë³„ ë°°ì§€ í‘œì‹œ í™•ì¸

**ì„¤ëª…**: ì´ ê¸°ëŠ¥ì€ GM í”„ë¡¬í”„íŠ¸ì— ì˜í•´ ì”ì•¡ ë¶€ì¡± ì‹œ `earn_` ì ‘ë‘ì‚¬ ì¹´ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤.
ì‹¤ì œ ì„œë²„ ì—°ë™ ì‹œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

**í™•ì¸ í•­ëª©**:
- GM ì‘ë‹µì— `earn_search`, `earn_trade` ë“±ì˜ ì¹´ë“œ IDê°€ í¬í•¨ë˜ë©´:
  - í•´ë‹¹ ì¹´ë“œì— "âš¡ Signal íšë“" ë°°ì§€ í‘œì‹œ
  - ì¹´ë“œ í…Œë‘ë¦¬ê°€ ê¸ˆìƒ‰ ê°•ì¡°

### ì‹œë‚˜ë¦¬ì˜¤ 4: ë°±ì—”ë“œ FAST í´ë°± (ì„œë²„ ì—°ë™)

**ëª©ì **: ì”ì•¡ ë¶€ì¡± ì‹œ ì´ë¯¸ì§€ê°€ FAST ëª¨ë¸ë¡œ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸

**ì ˆì°¨**:
1. ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ (`pnpm dev:back`)
2. ì”ì•¡ì´ 10 ë¯¸ë§Œì¸ ìƒíƒœì—ì„œ ì´ë¯¸ì§€ ìƒì„±ì´ í¬í•¨ëœ í„´ ì‹¤í–‰
3. Agent Consoleì—ì„œ í™•ì¸:
   - [x] Render ë‹¨ê³„ì—ì„œ `model_label: FAST` ì ìš©
   - [x] ì´ë¯¸ì§€ ìƒì„± ë¹„ìš© 0 Signal
   - [x] ë¡œê·¸ì— `"[RenderHelpers] ì”ì•¡ ë¶€ì¡±, FAST ëª¨ë¸ í´ë°± (U-079)"` ì¶œë ¥

---

## 4. ë³€ê²½ëœ íŒŒì¼ ìš”ì•½

| ì˜ì—­ | íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|------|-----------|
| Backend | `render_helpers.py` | FAST í´ë°± íŒì • ë¡œì§ + `FAST_IMAGE_COST_SIGNAL` ìƒìˆ˜ |
| Backend | `render.py` | `model_label` ì˜¤ë²„ë¼ì´ë“œ ì²˜ë¦¬ |
| Backend | `turn_output_instructions.ko.md` | ì¬í™” íšë“ ì•¡ì…˜ ì¹´ë“œ/íŒë§¤ íŒíŠ¸ GM ì§€ì¹¨ |
| Backend | `turn_output_instructions.en.md` | ì˜ë¬¸ ì¬í™” íšë“ ì§€ì¹¨ |
| Frontend | `InventoryPanel.tsx` | ì•„ì´í…œ íŒë§¤ ë²„íŠ¼ |
| Frontend | `ActionDeck.tsx` | `earn_` ì ‘ë‘ì‚¬ ì¹´ë“œ ë°°ì§€ |
| Frontend | `EconomyHud.tsx` | FAST í´ë°± ì•ˆë‚´ + íŒíŠ¸ UI |
| Frontend | `worldStore.ts` | `sellItem`, í† ìŠ¤íŠ¸ ì‹œìŠ¤í…œ |
| Frontend | `App.tsx` | `CurrencyToastUI` ì»´í¬ë„ŒíŠ¸ |
| Frontend | `save/constants.ts` | `ITEM_SELL_PRICE_SIGNAL` ìƒìˆ˜ |
| Frontend | `ko-KR/translation.json` | i18n í‚¤ ì¶”ê°€ |
| Frontend | `en-US/translation.json` | i18n í‚¤ ì¶”ê°€ |
| Frontend | `style.css` | íŒë§¤ ë²„íŠ¼/ë°°ì§€/í† ìŠ¤íŠ¸ CSS |

---

## 5. ì œí•œ ì‚¬í•­ ë° ì•Œë ¤ì§„ ì´ìŠˆ

- **ì•„ì´í…œ íŒë§¤ ê°€ê²©**: MVPì—ì„œëŠ” ëª¨ë“  ì•„ì´í…œ ë™ì¼ ê°€ê²© (5 Signal). í–¥í›„ ì•„ì´í…œë³„ ì°¨ë“± ê°€ê²© í•„ìš”.
- **ì¬í™” íšë“ ì¹´ë“œ**: GM í”„ë¡¬í”„íŠ¸ ì˜ì¡´ì . í”„ë¡¬í”„íŠ¸ ì§€ì¹¨ì´ ìˆì§€ë§Œ, GMì´ í•­ìƒ `earn_` ì¹´ë“œë¥¼ ìƒì„±í•˜ë¦¬ë¼ ë³´ì¥í•˜ì§€ ì•ŠìŒ.
- **í† ìŠ¤íŠ¸ ì•Œë¦¼**: 3ì´ˆ í›„ ìë™ ë‹«í˜. ì—°ì† íŒë§¤ ì‹œ ì´ì „ í† ìŠ¤íŠ¸ê°€ ì¦‰ì‹œ êµì²´ë¨.

---

## 6. ë¡¤ë°± ë°©ë²•

ë¬¸ì œ ë°œìƒ ì‹œ ë‹¤ìŒ íŒŒì¼ì˜ ë³€ê²½ ì‚¬í•­ì„ ë˜ëŒë¦½ë‹ˆë‹¤:
```bash
git checkout HEAD -- \
  backend/src/unknown_world/orchestrator/stages/render_helpers.py \
  backend/src/unknown_world/orchestrator/stages/render.py \
  backend/prompts/turn/turn_output_instructions.ko.md \
  backend/prompts/turn/turn_output_instructions.en.md \
  frontend/src/components/InventoryPanel.tsx \
  frontend/src/components/ActionDeck.tsx \
  frontend/src/components/EconomyHud.tsx \
  frontend/src/stores/worldStore.ts \
  frontend/src/App.tsx \
  frontend/src/save/constants.ts \
  frontend/src/locales/ko-KR/translation.json \
  frontend/src/locales/en-US/translation.json \
  frontend/src/style.css \
  frontend/src/stores/economyStore.ts
```
