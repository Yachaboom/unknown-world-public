# U-088[Mvp] 인벤토리 UI Row 형태 전환 실행 가이드

## 1. 개요

인벤토리 패널의 아이템 표시 방식을 그리드/타일 형태에서 **Row(행) 형태**로 전환했습니다. 각 아이템이 가로로 [아이콘 | 이름 | 수량] 형태로 배치되어 정보 가독성이 향상되고, 아이콘 영역만 드래그 핸들로 동작하여 조작 정확성이 개선됩니다.

**예상 소요 시간**: 5분

**의존성**:

- 의존 유닛: U-011[Mvp] (인벤토리 패널 기본 구조), U-077[Mvp] (스크롤/아이템 관리 UX)
- 선행 완료 필요: 기본 의존성 설치 (pnpm install)

---

## 2. 빠른 시작 (Quick Start)

### 2.1 환경 준비

```bash
cd frontend
pnpm install
```

### 2.2 즉시 실행

```bash
cd frontend
pnpm run dev --port 8001
```

### 2.3 첫 화면/결과 확인

- 브라우저에서 `http://localhost:8001` 접속
- 프로필 선택 화면에서 **"탐험가"** 프로필 선택 (아이템 4개 보유)
- 좌측 사이드바 **INVENTORY (4)** 패널에서 Row 레이아웃 확인
- 성공 지표: 아이템이 한 줄에 하나씩, [아이콘 | 이름 | 수량] 형태로 표시됨

---

## 3. 핵심 기능 시나리오

### 시나리오 A: Row 레이아웃 확인

**목적**: 아이템이 그리드가 아닌 Row(행) 형태로 표시되는지 검증

**실행**:

1. "탐험가" 프로필 선택
2. 좌측 인벤토리 패널 확인

**기대 결과**:

- 각 아이템이 한 줄에 하나씩 세로로 나열됨
- 각 Row: [아이콘(32px)] [이름(좌측 정렬, flex)] [수량(우측, 해당 시)]
- Row 높이: 약 48px
- "밧줄" 아이템 우측에 "x2" 수량 표시

**확인 포인트**:

- ✅ 아이콘 크기 32px (컴팩트)
- ✅ 이름이 좌측 정렬, UPPERCASE
- ✅ 수량(x2 이상)이 우측에 표시
- ✅ 긴 이름은 ellipsis(...) 처리 (툴팁으로 전체 확인)

---

### 시나리오 B: 구분선 + 줄무늬 (Q2: Option C)

**목적**: Row 간 시각적 구분이 명확한지 검증

**실행**:

1. 인벤토리에 아이템이 2개 이상 있는 상태에서 패널 확인

**기대 결과**:

- Row 사이에 미세한 녹색 구분선 (border-bottom)
- 짝수 Row에 미묘한 배경색 차이 (zebra striping)
- 마지막 Row에는 구분선 없음

**확인 포인트**:

- ✅ 구분선이 Row 경계를 명확히 표시
- ✅ 줄무늬가 과하지 않고 CRT 테마와 조화

---

### 시나리오 C: 아이템 선택 (클릭)

**목적**: Row 클릭 시 선택 상태가 정상 동작하는지 검증

**실행**:

1. 인벤토리에서 아이템 Row를 클릭
2. 다른 아이템 Row를 클릭
3. 이미 선택된 아이템을 다시 클릭

**기대 결과**:

| 동작 | 결과 |
|------|------|
| 아이템 클릭 | 좌측 마젠타 강조선 + 배경색 변화 |
| 다른 아이템 클릭 | 이전 선택 해제, 새 아이템 선택 |
| 선택된 아이템 재클릭 | 선택 해제 |

**확인 포인트**:

- ✅ 선택 상태에서 좌측 3px 마젠타 강조선 표시
- ✅ 한 번에 하나의 아이템만 선택 가능

---

### 시나리오 D: 드래그 앤 드롭 (Q4: Option B - 아이콘 전용 핸들)

**목적**: 아이콘 영역에서만 드래그가 시작되고, 드래그 오버레이가 아이콘만 표시하는지 검증

**실행**:

1. 아이템 아이콘(좌측 32px 영역) 위에 마우스를 올리면 cursor: grab 확인
2. 아이콘을 드래그하여 Scene Canvas의 핫스팟(빛나는 영역)에 드롭
3. (선택) 아이콘이 아닌 이름/수량 영역을 드래그 시도

**기대 결과**:

- 아이콘 영역에서만 드래그가 시작됨 (cursor: grab)
- 드래그 중 오버레이는 아이콘만 표시 (40px 컴팩트 박스)
- 핫스팟에 드롭 시 턴 실행 또는 "사용할 수 없습니다" 메시지
- 이름/수량 영역 드래그 시도 시 드래그 시작되지 않음

**확인 포인트**:

- ✅ 아이콘 영역만 드래그 핸들 동작
- ✅ 드래그 오버레이에 아이콘만 표시
- ✅ 드래그 중 원본 Row 투명도 감소 (opacity: 0.3)
- ✅ 핫스팟 드롭 이벤트 정상 처리

---

### 시나리오 E: Hover 툴팁 (U-056 호환)

**목적**: Row hover 시 네이티브 툴팁이 표시되는지 검증

**실행**:

1. 아이템 Row 위에 마우스를 1~2초 유지

**기대 결과**:

- 단일 수량 아이템: 이름만 표시 (예: "나침반")
- 복수 수량 아이템: "이름 x 수량" 형식 (예: "밧줄 x 2")

**확인 포인트**:

- ✅ 네이티브 브라우저 툴팁 표시
- ✅ U-074 인터랙션 힌트("드래그하여 사용")도 첫 몇 번 표시

---

### 시나리오 F: 빈 인벤토리 상태

**목적**: 아이템이 없을 때 빈 상태 UI가 정상 표시되는지 검증

**실행**:

1. 새 게임 시작 후 아이템을 모두 소비하거나, 초기 상태 확인
2. 또는 브라우저 개발자 도구 콘솔에서:
   ```js
   // 인벤토리 비우기 (테스트용)
   // Zustand 스토어 직접 접근 불가 시, 리셋 버튼 사용
   ```

**기대 결과**:

- 📦 아이콘 + "아이템 없음" + "장면을 탐색하여 아이템을 찾으세요" 힌트

**확인 포인트**:

- ✅ U-077 빈 상태 UI 유지
- ✅ 빈 상태에서 Row 레이아웃으로 깨지지 않음

---

## 4. 실행 결과 확인

### 4.1 성공/실패 판단 기준

**성공**:

- ✅ 모든 아이템이 Row 형태로 표시
- ✅ 구분선 + 줄무늬 조합 확인 (Q2: Option C)
- ✅ 아이콘 전용 드래그 핸들 동작 (Q4: Option B)
- ✅ 선택/해제/hover 상태 정상
- ✅ 기존 DnD 흐름 (핫스팟 드롭) 정상 동작
- ✅ U-077 스크롤 컨테이너 호환

**실패 시 확인**:

- ❌ 아이템이 그리드로 표시됨 → CSS의 `.inventory-list` 클래스 확인
- ❌ 드래그가 안 됨 → `{...listeners}` 가 아이콘 div에 적용되었는지 확인
- ❌ 수량이 안 보임 → `.inventory-item-info` flex-direction: row 확인

---

## 5. 문제 해결 (Troubleshooting)

### 5.1 일반적인 오류

**오류**: 아이템이 그리드로 표시됨

- **원인**: CSS 클래스명이 `inventory-grid`에서 `inventory-list`로 변경되지 않음
- **해결**: `InventoryPanel.tsx`에서 `inventory-list` 클래스 사용 확인

**오류**: 드래그가 Row 전체에서 시작됨

- **원인**: dnd-kit `listeners`가 Row에 적용됨
- **해결**: `{...listeners}`와 `{...attributes}`가 아이콘 div에만 적용되었는지 확인

**오류**: 드래그 오버레이에 Row 전체가 표시됨

- **원인**: ItemOverlay가 이전 형태를 유지함
- **해결**: `ItemOverlay` 컴포넌트가 `inventory-overlay-icon` 클래스를 사용하는지 확인

### 5.2 환경별 주의사항

- **Windows**: 경로 구분자 주의 (D:\Dev\...)
- **macOS/Linux**: 특이사항 없음

---

## 6. 다음 단계

- **CP-MVP-03**: Row 형태 인벤토리로 10분 데모 루프 검증
- **U-081**: Quest/Rule 확장 시 Inventory 영역 보호 (Row min-height 기준)
