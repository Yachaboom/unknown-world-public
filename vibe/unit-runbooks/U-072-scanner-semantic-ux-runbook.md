# U-072[Mvp] 런북: Scanner 의미론적 사용 유도 UX

## 개요

Scanner(이미지 업로드) 기능의 발견성을 높이기 위한 UX 요소들을 검증합니다.

- **툴팁**: 마우스 호버 시 기능 설명 표시
- **온보딩 가이드**: 첫 사용 시 화살표+말풍선 형태의 시각 가이드
- **시각적 어포던스**: idle 상태 힌트 텍스트, 드래그 오버 시 강조

## 사전 조건

1. 프론트엔드 개발 서버 실행: `cd frontend && pnpm dev`
2. 브라우저에서 `http://localhost:8001/` 접속
3. 브라우저 개발자 도구 준비 (localStorage 확인용)

## 테스트 시나리오

### TC-1: 첫 방문 시 온보딩 가이드 표시

**목적**: 처음 방문한 사용자에게 온보딩 말풍선이 표시되는지 확인

**단계**:
1. 브라우저 개발자 도구 > Application > Local Storage에서 `uw_scanner_onboarding_done` 키가 없는지 확인 (있으면 삭제)
2. 페이지 새로고침
3. Scanner 슬롯 영역 확인

**예상 결과**:
- Scanner 슬롯 위에 화살표(▼)와 말풍선이 표시됨
- 말풍선에 "이미지를 드래그해 보세요!" 메시지 표시
- "알겠습니다" 버튼이 표시됨
- 말풍선이 위아래로 미묘하게 움직이는 펄스 애니메이션

**스크린샷 위치**: Scanner 슬롯 상단

---

### TC-2: 온보딩 닫기 및 localStorage 저장

**목적**: 온보딩을 닫으면 다시 표시되지 않는지 확인

**단계**:
1. TC-1 상태에서 "알겠습니다" 버튼 클릭
2. 말풍선이 사라지는지 확인
3. 개발자 도구에서 localStorage 확인
4. 페이지 새로고침
5. Scanner 슬롯 영역 확인

**예상 결과**:
- 버튼 클릭 시 말풍선 즉시 사라짐
- localStorage에 `uw_scanner_onboarding_done: "true"` 저장됨
- 새로고침 후에도 말풍선 표시되지 않음

---

### TC-3: 툴팁 표시 (마우스 호버)

**목적**: Scanner 슬롯에 마우스를 올렸을 때 툴팁이 표시되는지 확인

**사전 조건**: 온보딩이 이미 닫힌 상태

**단계**:
1. Scanner 슬롯 영역에 마우스 호버
2. 툴팁 표시 확인
3. 마우스를 슬롯 밖으로 이동
4. 툴팁 사라짐 확인

**예상 결과**:
- 호버 시 슬롯 상단에 툴팁 표시
- 툴팁 제목: "스캐너" (ko-KR) / "Scanner" (en-US)
- 툴팁 설명: "현실의 사진을 업로드하면 게임 속 아이템이나 단서로 변환됩니다"
- 마우스가 떠나면 툴팁 즉시 사라짐

---

### TC-4: 시각적 어포던스 (idle 상태)

**목적**: idle 상태에서 시각적 힌트가 표시되는지 확인

**단계**:
1. Scanner 슬롯이 idle 상태인지 확인 (이미지 업로드 전)
2. 슬롯 하단에 어포던스 힌트 텍스트 확인

**예상 결과**:
- "이미지 → 아이템" 힌트 텍스트가 점선 테두리로 감싸져 표시
- 텍스트가 미묘하게 깜빡이는 글로우 애니메이션

---

### TC-5: 드래그 오버 시 어포던스 강화

**목적**: 이미지를 드래그하여 슬롯 위에 올렸을 때 시각적 피드백 확인

**단계**:
1. 테스트 이미지 파일 준비 (jpg, png 등)
2. 이미지를 Scanner 슬롯 영역으로 드래그
3. 슬롯 위에 올린 상태에서 텍스트 변화 확인
4. 슬롯 밖으로 드래그

**예상 결과**:
- 드래그 오버 시 텍스트가 "여기에 놓으세요!"로 변경
- 텍스트가 강조(accent 색상, 그림자)
- 기존 idle 힌트 숨겨짐
- 슬롯 밖으로 나가면 원래 상태로 복귀

---

### TC-6: 접근성 - 키보드 포커스 (보너스)

**목적**: 키보드만으로 Scanner 슬롯에 접근 가능한지 확인

**단계**:
1. Tab 키로 Scanner 슬롯으로 포커스 이동
2. focus-visible 스타일 확인
3. Enter 또는 Space 키로 파일 선택 대화상자 열기

**예상 결과**:
- Tab으로 포커스 이동 가능
- 포커스 시 윤곽선(outline) 표시
- Enter/Space로 파일 선택 가능

---

### TC-7: i18n - 언어 전환

**목적**: 영문/한글 전환 시 텍스트가 올바르게 변경되는지 확인

**단계**:
1. 언어 설정을 영어(en-US)로 변경
2. 온보딩/툴팁/어포던스 텍스트 확인
3. 한국어(ko-KR)로 다시 변경
4. 텍스트 확인

**예상 결과**:
- en-US: "Try dragging an image here!", "Scanner", "Image → Item"
- ko-KR: "이미지를 드래그해 보세요!", "스캐너", "이미지 → 아이템"

---

### TC-8: reduced-motion 접근성

**목적**: `prefers-reduced-motion: reduce` 설정 시 애니메이션 비활성화 확인

**단계**:
1. OS 또는 브라우저에서 "애니메이션 줄이기" 설정 활성화
2. 페이지 새로고침
3. 온보딩 말풍선, 어포던스 힌트 확인

**예상 결과**:
- 온보딩 펄스 애니메이션 비활성화 (정적 위치)
- 화살표 바운스 애니메이션 비활성화
- 어포던스 글로우 애니메이션 비활성화 (고정 opacity)

---

## 알려진 제한사항

1. **내러티브 힌트 시스템**: Q1 Option A (백엔드 LLM 플래그)로 결정되어 백엔드 스키마 확장이 필요합니다. 현재 MVP에서는 프론트엔드 준비만 완료되었습니다.

2. **온보딩 표시 조건**: 현재는 localStorage 기반으로 "한 번도 본 적 없음"일 때만 표시됩니다. 세션/계정 기반 추적은 향후 확장 가능합니다.

## 관련 파일

- `frontend/src/components/ScannerSlot.tsx` - 툴팁, 온보딩 로직
- `frontend/src/locales/ko-KR/translation.json` - 한국어 텍스트
- `frontend/src/locales/en-US/translation.json` - 영어 텍스트
- `frontend/src/style.css` - 스타일 (.scanner-tooltip, .scanner-onboarding, .scanner-affordance-hint)
