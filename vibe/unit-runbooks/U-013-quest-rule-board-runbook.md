# U-013 Quest + Rule Board/Timeline 패널 실행 가이드

## 1. 개요

Quest 패널, Rule Board, Mutation Timeline 세 가지 게임 UI 패널을 구현하여 플레이어가 "무엇을 해야 하는지(목표)"와 "세계 규칙이 어떻게 바뀌는지"를 실시간으로 확인할 수 있게 합니다.

**예상 소요 시간**: 5분

**의존성**:
- 의존 유닛: U-004[Mvp] (고정 레이아웃), RU-003[Mvp] (상태/경계 정리)
- 선행 완료 필요: 없음 (단독 검증 가능)

---

## 2. 빠른 시작 (Quick Start)

### 2.1 환경 준비

```bash
cd frontend
pnpm install
```

### 2.2 즉시 실행

```bash
pnpm dev --port 8001
```

### 2.3 첫 화면 확인

- 브라우저에서 http://localhost:8001 접속
- 성공 지표:
  - 좌측 사이드바에 Quest 패널 표시
  - 좌측 사이드바에 Rule Board + Timeline 표시
  - 데모 데이터(퀘스트 3개, 규칙 2개)가 렌더링됨

---

## 3. 핵심 기능 시나리오

### 시나리오 A: Quest 패널 렌더링

**목적**: 퀘스트 목록이 체크리스트 형태로 올바르게 표시되는지 확인

**실행**:
1. http://localhost:8001 접속
2. 좌측 사이드바의 "Quest" 패널 확인

**기대 결과**:
```
Quest
┌──────────────────────┐
│ 진행 중              │
│ ☐ 터미널에 접속하기  │
│ ☐ 시설 탈출구 찾기   │
├──────────────────────┤
│ 완료됨               │
│ ☑ 데이터칩 수집 완료 │
└──────────────────────┘
```

**확인 포인트**:
- ✅ "진행 중" 섹션에 미완료 퀘스트 표시 (☐)
- ✅ "완료됨" 섹션에 완료 퀘스트 표시 (☑ + "완료" 배지)
- ✅ 퀘스트가 없을 때 "[ 목표 없음 ]" 플레이스홀더 표시

---

### 시나리오 B: Rule Board 렌더링

**목적**: 활성 규칙이 카드 형태로 올바르게 표시되는지 확인

**실행**:
1. http://localhost:8001 접속
2. 좌측 사이드바의 "Rule Board" 패널 확인

**기대 결과**:
```
Rule Board
┌──────────────────────┐
│ 활성 규칙: 2개       │
├──────────────────────┤
│ ⚙ 중력 법칙         │
│   물체는 아래로      │
│   떨어진다           │
├──────────────────────┤
│ ⚙ 시간 흐름         │
│   시간은 정상 속도로 │
│   흐른다             │
└──────────────────────┘
```

**확인 포인트**:
- ✅ 규칙 카드에 아이콘(⚙) + 라벨 + 설명 표시
- ✅ 활성 규칙 수 카운트 표시
- ✅ 규칙이 없을 때 "[ 규칙 없음 ]" 플레이스홀더 표시

---

### 시나리오 C: Mutation Timeline 렌더링

**목적**: 규칙 변형 이벤트가 시간순으로 올바르게 표시되는지 확인

**실행**:
1. http://localhost:8001 접속
2. Rule Board 패널 하단의 "변형 타임라인" 영역 확인

**기대 결과**:
```
변형 타임라인  2개 이벤트
┌──────────────────────┐
│ ➕ T0 중력 법칙      │
│        추가됨        │
│        물체는...     │
├──────────────────────┤
│ ➕ T0 시간 흐름      │
│        추가됨        │
│        시간은...     │
└──────────────────────┘
```

**확인 포인트**:
- ✅ 이벤트 유형별 아이콘 표시 (➕ 추가, 🔄 수정, ➖ 제거)
- ✅ 턴 번호(T0, T1 등) 표시
- ✅ 이벤트 유형 라벨("추가됨", "수정됨", "제거됨") 표시
- ✅ 이벤트가 없을 때 "[ 변형 이력 없음 ]" 플레이스홀더 표시

---

### 시나리오 D: 반응형 레이아웃 확인

**목적**: 패널이 다양한 화면 크기에서 올바르게 표시되는지 확인

**실행**:
1. 브라우저 창 크기를 1400px → 1200px → 768px로 조정
2. 각 브레이크포인트에서 패널 가시성 확인

**기대 결과**:
| 화면 너비 | 좌측 사이드바 | Quest/RuleBoard |
|----------|--------------|-----------------|
| > 1200px | 표시됨       | 모두 표시       |
| 768~1200 | 숨김         | 숨김            |
| < 768px  | 숨김         | 숨김            |

**확인 포인트**:
- ✅ 1200px 이상에서 모든 패널 정상 표시
- ✅ 모바일에서 레이아웃 깨짐 없음

---

### 시나리오 E: i18n 언어 전환

**목적**: 언어 전환 시 패널 텍스트가 올바르게 변경되는지 확인

**실행**:
1. 브라우저 개발자 도구 콘솔에서 언어 변경:
```javascript
// 영어로 변경
i18next.changeLanguage('en-US');

// 한국어로 변경
i18next.changeLanguage('ko-KR');
```

**기대 결과**:
- 한국어: "진행 중", "완료", "활성 규칙", "추가됨"
- 영어: "Active", "DONE", "Active Rules", "Added"

**확인 포인트**:
- ✅ 언어 전환 시 모든 UI 텍스트 일괄 변경
- ✅ ko/en 혼합 출력 없음 (RULE-006)

---

## 4. 실행 결과 확인

### 4.1 콘솔 확인

- React 경고/에러 없음
- i18n 누락 키 경고 없음

### 4.2 성공/실패 판단 기준

**성공**:
- ✅ Quest 패널: 진행 중/완료 섹션 분리 표시
- ✅ Rule Board: 규칙 카드 렌더링
- ✅ Timeline: 변형 이벤트 시간순 표시
- ✅ 빈 상태: 적절한 플레이스홀더 표시
- ✅ i18n: ko/en 언어 전환 정상 동작

**실패 시 확인**:
- ❌ 패널 미표시 → App.tsx 컴포넌트 import 확인
- ❌ 데이터 미표시 → worldStore 상태 확인 (React DevTools)
- ❌ 번역 누락 → locales/*.json 키 확인

---

## 5. 문제 해결 (Troubleshooting)

### 5.1 일반적인 오류

**오류**: Quest/RuleBoard 패널이 빈 상태로 표시됨

- **원인**: 데모 데이터 초기화 미실행
- **해결**: 
  1. `useDemoInitializer` 훅이 App에서 호출되는지 확인
  2. `isDemoEnvironment()`가 true를 반환하는지 확인 (DEV 모드)

**오류**: i18n 키가 그대로 표시됨 (예: "quest.empty")

- **원인**: 번역 리소스 누락
- **해결**: `locales/ko-KR/translation.json`에 해당 키 추가

### 5.2 환경별 주의사항

- **Windows**: 경로에 한글 포함 시 인코딩 문제 발생 가능
- **macOS/Linux**: 특이사항 없음

---

## 6. 다음 단계

- U-015에서 데모프로필별 "초기 퀘스트/초기 룰" 프리셋 구성
- CP-MVP-03(최종 데모 루프)에서 "룰 변형/퀘스트 진행" 증거로 활용
