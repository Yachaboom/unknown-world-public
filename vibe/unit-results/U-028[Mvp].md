# U-028[Mvp]: UI 가독성 패스(폰트 스케일/효과 토글/대비) 개발 완료 보고서

## 메타데이터

- **작업 ID**: U-028[Mvp]
- **단계 번호**: 2.3
- **작성 일시**: 2026-01-10 14:30
- **담당**: AI Agent

---

## 1. 작업 요약

UI 가독성 개선을 위해 전역 UI 스케일 조절 기능과 CRT 효과를 완화하는 Readable 모드를 도입했습니다. 이를 통해 미학적인 CRT 테마를 유지하면서도 데모 및 플레이 시 텍스트 시인성을 확보했습니다.

---

## 2. 작업 범위

- **UI 설정 상태 관리 도입**: Zustand(`persist`)를 사용한 `uiScale`, `readableMode` 상태 저장 및 복원 기능 구현.
- **전역 UI 스케일 구현**: CSS 변수(`--ui-scale-factor`)와 `rem` 기반 타이포그래피 시스템을 연동하여 0.9x ~ 1.2x 스케일 조절 기능 구현.
- **Readable 모드 구현**: 스캔라인, 플리커, 글로우 효과를 토글하여 텍스트 대비와 시인성을 향상시키는 모드 추가.
- **마이크로 텍스트 상향**: Agent Console, 배지, 타임스탬프 등 작은 텍스트 영역의 기본 폰트 크기를 상향 조정 및 Readable 모드 연동.
- **헤더 컨트롤 추가**: `GameHeader` 내에 UI 가독성 설정을 위한 직관적인 컨트롤 UI 배치.

---

## 3. 생성/수정 파일

| 파일 경로 | 유형 | 목적 |
| --------- | ---- | ---- |
| `frontend/src/stores/uiPrefsStore.ts` | 신규 | UI 설정(스케일/Readable) 상태 관리 및 DOM 적용 헬퍼 |
| `frontend/src/style.css` | 수정 | UI 스케일 변수 도입, Readable 모드 스타일 및 마이크로 텍스트 가독성 강화 |
| `frontend/src/App.tsx` | 수정 | UI 컨트롤 컴포넌트 추가 및 헤더 통합, 설정 실시간 반영 로직 구현 |

---

## 4. 구현 상세

### 4.1 핵심 설계

**주요 계약**:

- `useUIPrefsStore()`: UI 설정 상태 및 액션을 제공하는 Zustand 훅.
- `applyUIPrefsToDOM(state)`: 스토어 상태를 `html` 요소의 `data-` 속성 및 CSS 변수로 변환하여 반영.

**설계 패턴/원칙**:

- **CSS-in-JS + Data Attributes**: React 상태를 데이터 속성(`data-readable`, `data-ui-scale`)으로 전달하여 CSS 레벨에서 모든 스타일 변화를 제어(SSOT 유지).
- **Scale-aware Typography**: `html { font-size: calc(base * factor) }` 구조를 사용하여 레이아웃 파괴 없이 전역 크기 조절.

### 4.2 외부 영향 분석

- **데이터/파일 시스템**: `localStorage`에 `unknown-world-ui-prefs` 키로 설정값이 영구 저장됩니다.
- **UI/UX**: CRT 효과가 과하다고 느끼는 사용자에게 즉각적인 가독성 개선 수단을 제공하여 데모 품질을 향상시킵니다.

---

## 5. 런북(Runbook) 정보

- **파일 경로**: 별도의 런북 파일 대신 `unit-plans/U-028[Mvp].md`의 완료 기준을 기반으로 검증됨.
- **실행 결과**:
  - `A-`, `A+` 버튼 클릭 시 UI 전체 크기 변경 확인.
  - `READ` 토글 시 스캔라인/플리커 제거 및 가독성 향상 확인.
  - 새로고침 시에도 설정값이 유지됨을 확인.

---

## 6. 리스크 및 주의사항

- **레이아웃 깨짐**: 1.2x 이상의 과도한 스케일 적용 시 일부 고정 높이 패널에서 텍스트 넘침이 발생할 수 있으므로 최대 스케일을 1.2로 제한함.
- **CRT 미학 손실**: Readable 모드 사용 시 CRT 특유의 느낌이 사라지므로 기본값은 CRT 효과가 활성화된 상태로 유지함.

---

## 7. 다음 단계 안내

### 7.1 후속 작업

1. `U-009[Mvp]` Action Deck UI 구현 시 가독성 토큰 적용.
2. `U-029[Mvp]` nanobanana mcp 에셋 패스 시 아이콘 스케일 연동 검토.

### 7.2 의존 단계 확인

- **선행 단계**: U-004, U-008
- **후속 단계**: U-009, U-030

---

## 8. 자체 점검 결과

- [x] 전역 UI 스케일(0.9~1.2) 조절 및 유지 확인
- [x] Readable 모드 토글 및 효과 완화 확인
- [x] 마이크로 텍스트(Agent Console 등) 가독성 상향 확인
- [x] Header 내 컨트롤 UI 배치 확인

---

_본 보고서는 AI Agent에 의해 자동 생성되었습니다._
