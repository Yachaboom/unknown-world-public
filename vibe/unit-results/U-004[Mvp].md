# U-004[Mvp]: CRT 테마/고정 레이아웃 스켈레톤 개발 완료 보고서

## 메타데이터

- **작업 ID**: U-004[Mvp]
- **단계 번호**: 1.2
- **작성 일시**: 2026-01-04 02:00
- **담당**: AI Agent

---

## 1. 작업 요약

채팅 UI를 배제하고 게임 시스템으로서의 정체성을 확립하기 위해, CSS Grid 기반의 고정 HUD 레이아웃과 CRT 터미널 레트로 미학을 반영한 테마 스켈레톤을 구현했습니다. 이를 통해 PRD의 핵심 요구사항인 "채팅 버블 UI 금지(RULE-002)"를 기술적으로 강제하고 시각적으로 증명했습니다.

---

## 2. 작업 범위

- **고정 레이아웃 구축**: CSS Grid를 사용하여 Header, Sidebar(Left/Right), Center, Footer의 5개 영역으로 분할된 견고한 게임 UI 구조 구현.
- **8개 핵심 패널 슬롯 배치**: Inventory, Quest, Rule Board, Scene Canvas, Agent Console, Memory Pin, Scanner, Action Deck 자리를 고정 패널로 확보.
- **CRT 테마 적용**: 인광 녹색(#33ff00) 기반 테마, 스캔라인 오버레이, 플리커 효과, 글리치 애니메이션 등 레트로 터미널 스타일 구현.
- **내러티브 피드 설계**: 좌/우 말풍선 방식이 아닌, 턴 타임라인 기반의 로그 피드 형태로 내러티브 출력 구조 고정.
- **반응형 디자인**: 화면 너비에 따라 사이드바가 순차적으로 숨겨지는 가변 레이아웃(Desktop/Tablet/Mobile) 적용.

---

## 3. 생성/수정 파일

_(Repomix 결과 및 실제 파일 시스템 분석 기반)_

| 파일 경로 | 유형 | 목적 |
| --- | --- | --- |
| `frontend/src/App.tsx` | 수정 | 고정 레이아웃 스켈레톤 및 8개 패널 컴포넌트 구성 |
| `frontend/src/style.css` | 수정 | CRT 테마 토큰, CSS Grid 레이아웃, 오버레이 효과 정의 |
| `frontend/index.html` | 수정 | (가정) 폰트 로드 및 뷰포트 설정 확인 |

---

## 4. 구현 상세

### 4.1 핵심 설계

**주요 컴포넌트**:

- `Panel({ title, children })`: 헤더와 컨텐츠 영역을 가진 공통 UI 컨테이너.
- `NarrativeFeed()`: `[TURN N]` 타임스탬프를 포함한 로그 형태의 내러티브 출력부.
- `ActionDeck()`: 카드 형태의 행동 선택 영역 (비용/위험 정보 포함).
- `GameHeader()`: 타이틀(Glitch), Economy HUD(Signal), 연결 상태 표시.

**설계 패턴/원칙**:

- **CSS Grid Layout**: 패널 위치를 엄격하게 고정하여 기능 추가 시에도 레이아웃 무너짐 방지.
- **CSS Variable SSOT**: 모든 테마 색상과 수치를 `:root` 변수로 관리하여 유지보수성 확보.
- **RULE-002 강제**: 채팅 UI 컴포넌트 자체를 배제하고 로그 피드 구조를 선택.

### 4.2 외부 영향 분석

- **데이터/파일 시스템**: UI 레이아웃 고정으로 향후 `WorldState` 연동 시 데이터 바인딩 지점 명확화.
- **권한/보안**: CRT 오버레이에 `pointer-events: none`을 적용하여 상호작용 간섭 차단.
- **빌드/의존성**: 추가적인 외부 라이브러리 없이 순수 React + CSS로 구현하여 빌드 크기 최적화.

### 4.3 가정 및 제약사항

- 폰트는 Google Fonts(NeoDunggeunmo/VT323)를 CDN을 통해 로드한다고 가정합니다.
- 현재 모든 패널의 데이터는 Mock 데이터 또는 플레이스홀더로 구성되어 있습니다.

---

## 5. 런북(Runbook) 정보

- **파일 경로**: `vibe/unit-runbooks/U-004-crt-layout-runbook.md`
- **실행 결과**: CRT 테마 확인(A), 패널 배치 확인(B), 호버 효과(C), 반응형(D, E) 시나리오 모두 정상 동작 확인.
- **참조**: 상세 실행 방법 및 성공 지표는 위 런북 파일 참조.

---

## 6. 리스크 및 주의사항

- **레이아웃 고착화**: 화면이 복잡해질 경우 모바일 환경에서 일부 패널 접근성이 저하될 수 있으므로, 향후 모바일 전용 탭/슬라이드 메뉴 검토 필요.
- **CRT 피로도**: 플리커 효과가 일부 사용자에게 시각적 피로를 줄 수 있으므로, 향후 설정에서 끌 수 있는 기능 고려.

---

## 7. 다음 단계 안내

### 7.1 후속 작업

1. **U-009[Mvp]**: Action Deck 실제 카드 렌더링 및 비용 시스템 연동.
2. **U-010[Mvp]**: Scene Canvas 내 이미지 렌더링 및 핫스팟 오버레이 구현.
3. **U-011[Mvp]**: Inventory 패널 내 Drag & Drop 기능 추가.

### 7.2 의존 단계 확인

- **선행 단계**: U-002[Mvp] (완료)
- **후속 단계**: RU-001[Mvp] (리팩토링), U-005[Mvp] (스키마 설계)

---

## 8. 자체 점검 결과

- [x] 런북 기반 요구사항 충족 확인 (CRT 테마, 고정 레이아웃)
- [x] Repomix 최신 구조 반영 확인 (App.tsx, style.css 구조 일치)
- [x] 아키텍처/네이밍/경로 일관성 유지 (vibe/ref/frontend-style-guide.md 준수)
- [x] 파괴적 변경/리스크/가정 명시 (채팅 UI 금지 원칙 준수)

---

_본 보고서는 AI Agent에 의해 자동 생성되었습니다._
