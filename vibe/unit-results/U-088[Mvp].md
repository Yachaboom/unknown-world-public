# [U-088[Mvp]: 인벤토리 UI Row 형태 전환] 개발 완료 보고서

## 메타데이터

- **작업 ID**: U-088[Mvp]
- **단계 번호**: 2.3
- **작성 일시**: 2026-02-07 16:30
- **담당**: AI Agent

---

## 1. 작업 요약

인벤토리 패널의 아이템 표시 방식을 기존 그리드(Grid) 형태에서 행(Row) 기반 리스트 형태로 전환했습니다. 각 아이템 행은 [아이콘 | 이름 | 수량]으로 구성되며, 아이콘 영역만 드래그 핸들로 동작하게 하여 조작의 정밀도와 정보 가독성을 동시에 확보했습니다.

---

## 2. 작업 범위

- **레이아웃 전환**: `inventory-grid`를 `inventory-list`로 변경하고 `flex-direction: column` 기반의 리스트 레이아웃 적용
- **Row 디자인 구현**: 아이템 행 높이(48px), 구분선(Border), 줄무늬(Zebra striping)를 적용하여 CRT 테마와 조화로운 리스트 UI 구현
- **드래그 핸들 최적화**: 아이콘 영역(32px)에만 `dnd-kit` 리스너를 바인딩하여 의도치 않은 드래그 방지 및 정밀도 향상
- **드래그 오버레이 개선**: 드래그 중에는 행 전체가 아닌 아이콘만 40px 컴팩트 박스로 표시되도록 개선
- **상태 시각화**: 선택(Selected) 시 좌측 마젠타 강조선 추가 및 호버/비활성화/소비(Consumed) 애니메이션 고도화
- **반응형 대응**: 모바일 환경에서 행 높이 및 아이콘 크기를 조정하는 미디어 쿼리 추가

---

## 3. 생성/수정 파일

_(Repomix 결과 및 실제 파일 시스템 분석 기반)_

| 파일 경로 | 유형 | 목적 |
| --- | --- | --- |
| `frontend/src/components/InventoryPanel.tsx` | 수정 | Row 형태 렌더링 로직 및 아이콘 전용 드래그 핸들 적용 |
| `frontend/src/style.css` | 수정 | 인벤토리 Row 레이아웃, 줄무늬, 선택 상태, 오버레이 스타일 추가 |

---

## 4. 구현 상세

### 4.1 핵심 설계

**주요 구성 요소**:

- **`DraggableItem`**: 각 아이템 행을 구성. 아이콘 영역(`inventory-item-icon`)에만 `attributes`와 `listeners`를 전달하여 부분 드래그 구현.
- **`ItemOverlay`**: `inventory-overlay-icon` 클래스를 사용하여 드래그 시 아이콘만 부유하도록 처리.

**설계 패턴/원칙**:

- **PRD 원칙 2 (게임 UI 고정)**: 인벤토리를 채팅 버블이 아닌 명확한 HUD 리스트 형태로 유지.
- **Q4 Option B (아이콘 전용 핸들)**: 리스트 전체가 아닌 특정 영역에서만 조작이 시작되도록 제한하여 UX 명확성 제공.

### 4.2 외부 영향 분석

- **데이터/파일 시스템**: `InventoryItem` 인터페이스 및 저장 구조는 그대로 유지.
- **UI/UX**: 기존 그리드 대비 세로 스크롤 의존도가 높아졌으나, 이름 가독성이 크게 개선됨 (`ellipsis` 적용).

### 4.3 가정 및 제약사항

- **가정**: 아이콘은 32px 크기 내에서 식별 가능해야 함 (U-075 동적 생성 아이콘 사양 준수).

---

## 5. 런북(Runbook) 정보

- **파일 경로**: `vibe/unit-runbooks/U-088-inventory-row-layout-runbook.md`
- **실행 결과**: 런북의 시나리오 A~F(레이아웃, 드래그, 선택, 툴팁, 빈 상태)를 기반으로 모든 기능 검증 완료.

---

## 6. 리스크 및 주의사항

- **레이아웃 밀림**: 아이템 이름이 매우 길 경우 `ellipsis`가 작동하도록 `min-width: 0`과 `flex: 1` 설정을 `inventory-item-info`에 적용함.

---

## 7. 다음 단계 안내

### 7.1 후속 작업

1. **CP-MVP-03**: Row 형태 인벤토리를 포함한 전체 데모 루프 검증.
2. **U-081**: 퀘스트 패널 확장 시 인벤토리 영역 가시성 재점검.

---

## 8. 자체 점검 결과

- [x] 런북 기반 요구사항 충족 확인
- [x] Repomix 최신 구조 반영 확인
- [x] 아키텍처/네이밍/경로 일관성 유지
- [x] 파괴적 변경/리스크/가정 명시

---

_본 보고서는 AI Agent에 의해 자동 생성되었습니다._
