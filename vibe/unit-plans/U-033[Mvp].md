# U-033[Mvp]: nanobanana mcp 에셋 매니페스트 + QA(크기/대비/폴백)

## 메타데이터

| 항목      | 내용       |
| --------- | ---------- |
| Unit ID   | U-033[Mvp] |
| Phase     | MVP        |
| 예상 소요 | 45분       |
| 의존성    | U-030      |
| 우선순위  | Medium     |

## 작업 목표

`nanobanana mcp`로 생성한 에셋이 “어디서 쓰이는지/규칙을 지키는지”를 확인할 수 있도록, **간단한 에셋 매니페스트(목록)와 QA 체크리스트(예산/대비/폴백)** 를 도입한다.

**배경**: 생성형 에셋은 늘기 쉽지만, 사용처/규칙이 정리되지 않으면 중복/비대화/스타일 불일치가 생긴다. MVP에서는 자동화까지 과하게 가지 않되, 최소한의 매니페스트/체크리스트로 **품질 하락을 예방**한다.

**완료 기준**:

- `frontend/public/ui/manifest.json`(또는 `manifest.yml`) 형태로 에셋 목록/용도를 기록한다.
- 신규 에셋 반영 시 체크해야 할 QA 항목(용량/사이즈/대비/폴백/Readable 모드, **투명 배경 필요 시 배경 제거(rembg)**)을 문서화한다.
- U-029/U-031/U-032 같은 에셋 유닛이 “어떤 파일을 추가/수정하는지” 추적 가능해진다.

## 영향받는 파일

**생성**:

- `frontend/public/ui/manifest.json` - 에셋 목록(키/경로/사이즈/용도/폴백 텍스트)
- `frontend/public/ui/QA_CHECKLIST.md` - 수동 QA 체크리스트(가독성/성능/폴백)

**수정**:

- `vibe/unit-plans/U-029[Mvp].md` - “산출물 기록/QA 준수”를 완료 기준에 명시(필요 시)
- `vibe/unit-plans/U-031[Mvp].md` - placeholder 산출물 매니페스트 반영(필요 시)
- `vibe/unit-plans/U-032[Mvp].md` - chrome 산출물 매니페스트 반영(필요 시)

**참조**:

- `vibe/unit-plans/U-030[Mvp].md` - 에셋 SSOT/예산 규칙
- `vibe/unit-plans/U-028[Mvp].md` - Readable 모드(가독성 QA)

## 구현 흐름

### 1단계: 매니페스트 포맷 확정(MVP 최소)

- 항목 예시: `id`, `path`, `category(icon|placeholder|chrome)`, `size(px)`, `usage`, `fallback_text`
- MVP에서는 수동 갱신으로 시작하고, 자동 생성은 MMP에서 고려한다.

### 2단계: QA 체크리스트 정의

- 용량: 개별/총합 예산 준수
- 가독성: 작은 크기에서도 형태가 구분되는지
- 대비: 기본/Readable 모드에서 텍스트를 방해하지 않는지
- 투명도(조건부): 아이콘/chrome처럼 투명 배경이 필요한 에셋은 **알파 채널이 존재**하며, 배경이 남아 있으면 `rembg`로 배경 제거가 수행되었는지 확인
- 배경 단순화(조건부): 배경 제거(rembg)를 전제한 에셋은 **원본 생성 단계에서 배경이 순백(#FFFFFF) 단색**인지 확인(그라데이션/텍스처/그림자 금지)
- 폴백: 이미지 미존재/로딩 실패 시 텍스트/이모지가 유지되는지

### 3단계: 기존 에셋 유닛과 연결(산출물 기록)

- U-029/U-031/U-032 계획서에 “산출물은 manifest에 기록”을 명시한다.
- (선택) PRD에 “에셋은 manifest로 추적”을 한 줄 추가한다.

## 의존성 & 연결

**이전 작업에서 가져올 것**:

- **계획서**: [U-030[Mvp]](U-030[Mvp].md) - 에셋 SSOT/예산 규칙

**다음 작업에 전달할 것**:

- 에셋이 늘어도 추적 가능한 목록(매니페스트)과 품질 기준(QA)
- 이후 자동화(스크립트/CI)로 확장할 기반(형식 고정)

## 주의사항

**기술적 고려사항**:

- MVP에서는 “자동화”보다 “형식 고정”이 우선이다(파일 1~2개로 단순 유지).
- 체크리스트가 너무 길어지면 방치됨 → 8~12개 핵심 항목만 유지한다.
- 배경 제거는 수작업 편집 대신 `rembg`로 재현 가능하게 처리하는 것을 기본으로 한다. (참조: `vibe/ref/rembg-guide.md`)
- (조건부) rembg 품질/속도를 위해, 배경 제거가 필요한 에셋은 **생성 단계에서 배경을 순백(#FFFFFF) 단색**으로 강제한다(그라데이션/텍스처/그림자 금지).

**잠재적 리스크**:

- 매니페스트를 안 지키면 무용지물 → 에셋 생성 유닛의 완료 기준에 포함해 강제한다.

## 페어링 질문 (결정 필요)

- [ ] **Q1**: 매니페스트 포맷은 무엇이 좋을까?
  - Option A: `manifest.json`(권장: 도구/파싱 용이) ✅
  - Option B: `manifest.yml`(가독성 ↑, 파싱/정합성 ↓)

## 참고 자료

- `vibe/unit-plans/U-030[Mvp].md` - 에셋 SSOT
- `vibe/unit-plans/U-028[Mvp].md` - Readable/가독성 기준
- `vibe/ref/rembg-guide.md` - rembg 배경 제거(모델 선택/옵션/명령) 가이드

