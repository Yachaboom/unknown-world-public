# CP-MVP-02: 체크포인트 - 클릭+드래그 데모

## 메타데이터

| 항목      | 내용        |
| --------- | ----------- |
| Unit ID   | CP-MVP-02   |
| Phase     | MVP         |
| 예상 소요 | 45분        |
| 의존성    | RU-003[Mvp] |
| 우선순위  | ⚡ Critical |

## 작업 목표

데모 표면의 핵심 조작 2종(핫스팟 클릭, 인벤토리 드래그&드롭)과 Action Deck 클릭이 “게임처럼” 동작하는지 수동 검증한다.

**배경**: PRD는 채팅이 아니라 “조작(클릭+드래그+업로드)”을 보여줘야 한다고 명시한다. (PRD 6.7)

**완료 기준**:

- Action Deck 카드 클릭 → 턴 실행 → 로그/패널 변화가 발생한다.
- 핫스팟 클릭 → 턴 실행 → 결과가 로그/패널에 반영된다.
- 아이템 드래그→핫스팟 드롭 → 턴 실행 → 성공/실패 피드백이 즉시 표시된다(무반응 금지).

## 영향받는 파일

**생성**:

- (구현 후 기록) `vibe/unit-results/CP-MVP-02.md` - 체크포인트 결과/관측값 기록
- (선택) `vibe/unit-runbooks/CP-MVP-02.md` - 재현 가능한 수동 검증 런북

**수정**:

- 없음(검증 단계)

**참조**:

- `vibe/prd.md` 6.7/9장 - 클릭/드래그 데모 표면 요구
- `vibe/refactors/RU-003-S1.md` - 취소(Abort)/UI 복구 정책(취소 UX 스텁 현황 포함)
- `.cursor/rules/10-frontend-game-ui.mdc` - Action Deck/DnD/Hotspot 규칙
- `.cursor/rules/00-core-critical.mdc` - RULE-002/008/009

## 구현 흐름

### 1단계: 클릭 데모(액션덱/핫스팟)

- 카드 1장을 클릭해 turn 실행 → Queue/Badges 진행과 final 반영을 확인한다.
- 핫스팟 1개를 클릭해 turn 실행 → 오브젝트 상호작용 결과가 로그/패널에 반영되는지 확인한다.

### 2단계: 드래그&드롭 데모(인벤토리→핫스팟)

- 아이템을 드래그하면 오버레이/피드백이 나타나는지 확인한다.
- 핫스팟 위로 드래그 시 대상 하이라이트가 동작하는지 확인한다.
- 드롭 시 turn 실행 및 성공/실패 피드백이 즉시 표시되는지 확인한다.

### 3단계: 금지사항/인바리언트 체크

- 채팅 버블 UI가 없는지 확인한다. (RULE-002)
- bbox 좌표 규약(0~1000, `[ymin,xmin,ymax,xmax]`)이 깨지지 않는지 확인한다. (RULE-009)
- Agent Console에 프롬프트 원문/내부 추론이 노출되지 않는지 확인한다. (RULE-008)

## 의존성 & 연결

**이전 작업에서 가져올 것**:

- **계획서**: [RU-003[Mvp]](RU-003[Mvp].md) - UI 상태/경계 정리
- **계획서**: [U-009[Mvp]](U-009[Mvp].md) - Action Deck
- **계획서**: [U-010[Mvp]](U-010[Mvp].md) - Hotspots
- **계획서**: [U-012[Mvp]](U-012[Mvp].md) - DnD 드롭 실행

**다음 작업에 전달할 것**:

- U-013~U-015 확장 작업(퀘스트/룰/세이브/데모프로필) 전에 “핵심 조작” 안정성 기준선

## 주의사항

**기술적 고려사항**:

- 성공 경로만 보지 말고, 반드시 드롭 실패 케이스(드롭 불가 대상/대상 없음)도 확인한다.
- 취소 UX(Cancel 버튼)는 현재 `frontend/src/turn/turnRunner.ts`의 `cancel()` 기본 골격만 존재하며, Abort 정책(Abort 시 `onComplete` 미호출) 때문에 취소 시 UI가 “멈춘 것처럼” 보일 수 있다. 이 CP의 합격 기준에는 취소 시나리오를 포함하지 않으며, 정책 SSOT는 `RU-003-S1`이다.

**잠재적 리스크**:

- 조작이 불안정하면 이후 기능이 모두 “체감 품질”에서 실패 → CP 결과를 기준으로 UX/레이어링(오버레이/포인터 이벤트)을 즉시 개선한다.

## 페어링 질문 (결정 필요)

- [ ] **Q1**: CP 결과의 증거(스크린샷/영상)를 어디까지 남길까?
  - Option A: unit-results에 텍스트+스크린샷 링크(권장: 최소 비용)
  - Option B: 데모 영상까지 기록(신뢰도↑, 비용↑)

## 참고 자료

- `vibe/prd.md` - 데모 표면/조작 요구
- `.cursor/rules/10-frontend-game-ui.mdc` - 클릭/드래그 UX 규칙
- `.cursor/rules/00-core-critical.mdc` - RULE-002/008/009
